<html lang="en"><head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body marginheight="0"><p>思考：为什么要缓存数据？
缓存是提升 Web 应用性能简便有效的方式。通过将相对静态的数据存储到缓存，并在收到请求时取回缓存，应用程序便节省了每次重新生成这些数据所需的时间。

</p>
<p>思考：缓存有效期的计时开始时间？
从数据写入缓存的那一刻开始计时。

</p>
<h2>一、缓存的类别：</h2>
<h4>1. 从缓存的有效期来看，我们可以将缓存分为定期缓存和非定期缓存。</h4>
<ul>
<li>定期缓存是指，缓存的有效期是固定的，一旦过了有效期，缓存就释放。<blockquote>
<p>例如：设置了缓存有效期的缓存。</p>
</blockquote>
</li>
<li>非定期缓存是指，缓存在某个时间点之前有效，之后释放。<blockquote>
<p>例如：设置了缓存依赖的缓存就会在依赖改变的时候被释放。</p>
</blockquote>
</li>
</ul>
<h4>2. 按缓存有效期是否无限，可以将缓存有分为：无限缓存和有限缓存。</h4>
<ul>
<li>无限缓存是指，缓存的有效期无限长。<blockquote>
<p>例如：未设置缓存有效期且无缓存依赖的缓存都是无限缓存。</p>
</blockquote>
</li>
<li>有限缓存是指，缓存的有效期有限长。<blockquote>
<p>例如：设置了缓存有效期或设置了缓存依赖的缓存都是有限缓存。</p>
</blockquote>
</li>
</ul>
<h4>3. 按写入缓存的执行次数可以将缓存分为循环缓存和一次性缓存。</h4>
<ul>
<li>循环缓存是指，写入缓存的操作会循环执行无数次。<blockquote>
<p>例如：yii框架的片段缓存，核心逻辑是if判断：<code>if($this-&gt;beginCache('id')){ ... $this-&gt;endCache();}</code>。程序第一次执行缓存写入的时候，会将替代内容写入缓存。之后，一旦过了缓存有效期，缓存中的数据就会被释放，程序就将再次执行缓存写入的操作。其余时间，程序执行的都是缓存读取操作。</p>
</blockquote>
</li>
<li>一次性缓存是指，写入缓存的操作只会执行一次。一旦缓存释放，就无法再次读取到缓存的内容。<blockquote>
<p>例如：yii框架中的数据缓存很多都采用一次性缓存，当然也可以配合if语句构造循环缓存。</p>
</blockquote>
</li>
</ul>
<h4>4.按缓存的内容划分，yii框架将缓存分为数据缓存、片段缓存、页面缓存、http缓存四种。</h4>
<h4>5.按缓存的位置划分，可以分为服务器端缓存、浏览器端缓存。数据缓存、片段缓存、页面缓存都是服务端缓存。而http缓存是浏览器端缓存。</h4>
<p>思考：循环缓存的使用价值是什么？
循环缓存定期获取替代内容，间接达到获取最新数据的目的。
注意：循环缓存不等同于定期更新。数据的更新操作随时可能发生，但是循环缓存的实质就是定期重新获取数据。

</p>
<p>思考：获取到的数据会被缓存到哪里去？
缓存到硬盘之中，称为文件缓存。
缓存到内存之中，称为memcache技术。
缓存到数据库中，等等。

</p>
<ol>
<li><p>数据缓存
作用：缓存php代码中一些比较大的变量，特别是这些大的变量要重复使用，且变量值几乎不常改变时。
例如：缓存数据库中获取到的数据。
第一步：从数据库中获取数据，并赋给一个变量；
第二步：将变量缓存起来。
好处：当下次有请求来请求响应数据的时候，就不需要再到数据库中获取数据，直接使用缓存即可。</p>
</li>
<li><p>片段缓存
这两个缓存都与视图相关。
视图中的某些部分几乎不常改变时，就应当使用片段缓存和页面缓存。这样我们的程序又会更快一点。
页面缓存：如果整个页面中的内容几乎不发生变化，那么缓存整个页面的数据。</p>
</li>
<li><p>页面缓存
技术要点：</p>
</li>
<li>将操作的结果缓存在服务端中。</li>
<li>在控制器中定义behaviors方法，配置页面缓存。</li>
</ol>
<p>4.http缓存
将请求的资源缓存到浏览器端。如果浏览器端的缓存资源可用，那么服务器就不会返回相应的资源。这样我们的程序又快了一点。
本质上，客户端通过将记号传回服务器要求服务器验证其（客户端）缓存。
Edit By <a href="http://mahua.jser.me">MaHua</a></p>
</body></html>